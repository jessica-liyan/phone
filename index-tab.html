<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="http://at.alicdn.com/t/font_ogg3bhtqsutk2o6r.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" type="text/css" href="css/swiper.min.css">
  <style>
    /*
      平滑滚动 -webkit-overflow-scrolling:touch;  ios5+

    */
    a{text-decoration:none;}
    html,body{height:100%;font-size:calc(100vw/37.5);}
    body{margin:0;}div{padding:0;margin:0;}
    .bg-f5{background:#f5f5f5;}.bg-f{background:#fff;}

    .app{padding-top:5rem;box-sizing:border-box;height:100%;}
    .tab{margin-top:-5rem;height:5rem;box-sizing:border-box;overflow-x:auto;white-space:nowrap;overflow-y:hidden;-webkit-overflow-scrolling:touch;}
    .tab a{display:inline-block;height:5rem;line-height:5rem;margin:0 1.4rem;font-size:1.8rem;color:#333;position:relative;}
    .tab a:before{content:"";display:inline-block;width:80%;height:3px;background:transparent;position:absolute;left:10%;bottom:5px;z-index:3;border-radius:4px;}
    .tab a.active{color:#ff6666;}
    .tab a.active:before{background:#ff6666;}
    .swiper-container{height:100%;}
    .swiper-slide{font-size:0;}
    
    .row{table-layout:fixed;}
    .img{height:6rem;overflow:hidden;}
    .img img{height:100%;}
    
    .oneline{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.5;}
    .twoline{overflow:hidden;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp:2;-webkit-box-orient: vertical;line-height:1.5;}
    .threeline{overflow:hidden;text-overflow: ellipsis;display: -webkit-box;-webkit-line-clamp:3;-webkit-box-orient: vertical;line-height:1.5;}

    .tap:hover{background:#f5f5f5;}

    /*1px的底部边框线*/
    .line{position:relative;}
    .line:before{content:"";display:inline-block;width:100%;height:1px;background:#ccc;position:absolute;left:0;bottom:0;}
    .line-top:after{content:"";display:inline-block;width:100%;height:1px;background:#ccc;position:absolute;left:0;top:0;}
    @media only screen and (-webkit-min-device-pixel-ratio:2) {
      .line:before,.line-top:after{transform:scaleY(0.5);-webkit-transform:scaleY(0.5);}
    }
    @media only screen and (-webkit-min-device-pixel-ratio:3) {
      .line:before,.line-top:after{transform:scaleY(0.33);-webkit-transform:scaleY(0.33);}
    }
    
    /*
      0.5px的border  ios8+支持
    */
    .scale-1px{border:none;background:#f5f5f5;font-size:1.6rem;color:#333;padding:1rem;margin-top:1rem;position:relative;}
    .scale-1px:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%;border:1px solid #ccc;box-sizing:border-box;}
    @media only screen and (-webkit-min-device-pixel-ratio:2) {
      .scale-1px:after{width:200%;height:200%;transform:scale(0.5);-webkit-transform:scale(0.5);transform-origin:left top;}
    }
    @media only screen and (-webkit-min-device-pixel-ratio:3) {
      .scale-1px:after{width:300%;height:300%;transform:scale(0.333);-webkit-transform:scale(0.333);transform-origin:left top;}
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="tab line">
      <a href="#" class="active">党建品牌</a>
      <a href="#">组织活动</a>
      <a href="#">先锋模范</a>
      <a href="#">先锋模范1</a>
      <a href="#">先锋模范2</a>
      <a href="#">先锋模范3</a>
    </div>
    <div class="swiper-container">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <div class="scale-1px">这是一段测试文字</div>
        </div>
        <div class="swiper-slide">
          <a href="#" class="row w pd-10 bs tap line">
            <span class="col v-t w-35 img pr-10">
              <img src="img/img001.png" alt="" class="w v-m">
            </span>
            <span class="col v-t w-65">
              <b class="block fs-16 c-3 normal oneline pb-5">这是一段测试文字这是这是一段测试文字这是</b>
              <i class="block fs-14 c-6">新华网<i class="ml-10">2017-05-16</i></i>
            </span>
          </a>
          <a href="#" class="row w pd-10 bs tap line">
            <span class="col v-t w-35 img pr-10">
              <img src="img/img002.png" alt="" class="w v-m">
            </span>
            <span class="col v-t w-65">
              <b class="block fs-16 c-3 normal twoline pb-5">这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字</b>
              <i class="block fs-14 c-6">新华网<i class="ml-10">2017-05-16</i></i>
            </span>
          </a>
          <a href="#" class="row w pd-10 bs tap line">
            <span class="col v-t w-35 img pr-10">
              <img src="img/img003.png" alt="" class="w v-m">
            </span>
            <span class="col v-t w-65">
              <b class="block fs-16 c-3 normal threeline pb-5">这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字</b>
              <i class="block fs-14 c-6">新华网<i class="ml-10">2017-05-16</i></i>
            </span>
          </a>
        </div>
        <div class="swiper-slide">
          <a href="#" class="ib w pd-10 bs line tap">
            <span class="ib w oneline fs-16 c-3">这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字</span>
          </a>
          <a href="#" class="ib w pd-10 bs line tap">
            <span class="ib twoline fs-16 c-3">这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字</span>
          </a>
          <a href="#" class="ib w pd-10 bs line tap">
            <span class="ib w twoline fs-16 c-3">这是一段测试文字这是一段测试文字这是一段测试文字</span>
            <span class="block fs-0 m-5 mt-10">
              <i class="ib w-33 pl-5 pr-5 bs"><img src="img/img001.png" alt="" class="v-m w"></i>
              <i class="ib w-33 pl-5 pr-5 bs"><img src="img/img002.png" alt="" class="v-m w"></i>
              <i class="ib w-33 pl-5 pr-5 bs"><img src="img/img003.png" alt="" class="v-m w"></i>
            </span>
          </a>
          <a href="#" class="ib w pd-10 bs line tap">
            <span class="ib w twoline fs-16 c-3">这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字这是一段测试文字</span>
            <span class="block fs-0 m-5 mt-10">
              <i class="ib w-33 pl-5 pr-5 bs"><img src="img/img001.png" alt="" class="v-m w"></i>
              <i class="ib w-33 pl-5 pr-5 bs"><img src="img/img002.png" alt="" class="v-m w"></i>
              <i class="ib w-33 pl-5 pr-5 bs"><img src="img/img003.png" alt="" class="v-m w"></i>
            </span>
          </a>
        </div>
        <div class="swiper-slide bg-f5">
          <div class="line line-top mt-5">
            <a href="#" class="row w line tap pd-15 bs bg-f">
              <i class="col v-m t-l w-70">
                <span class="iconfont icon-type mr-10 fs-18 c-9"></span>
                <i class="fs-18 c-f">扫一扫</i>
              </i>
              <i class="col v-m t-r w-30 iconfont icon-right fs-14 c-6"></i>
            </a>
            <a href="#" class="row w line tap pd-15 bs bg-f">
              <i class="col v-m t-l w-70">
                <span class="iconfont icon-timeout mr-10 fs-18 c-9"></span>
                <i class="fs-18 c-f">扫一扫</i>
              </i>
              <i class="col v-m t-r w-30 iconfont icon-right fs-14 c-6"></i>
            </a>
            <a href="#" class="row w line tap pd-15 bs bg-f">
              <i class="col v-m t-l w-70">
                <span class="iconfont icon-import mr-10 fs-18 c-9"></span>
                <i class="fs-18 c-f">扫一扫</i>
              </i>
              <i class="col v-m t-r w-30 iconfont icon-right fs-14 c-6"></i>
            </a>
          </div>
        </div>
        <div class="swiper-slide">5</div>
        <div class="swiper-slide">6</div>
      </div>
    </div>
  </div>
  <script src="js/zepto.min.js"></script>
  <script src="js/swiper.min.js"></script>
  <script>
    console.log(window.devicePixelRatio)
    var mySwiper = new Swiper('.swiper-container',{
      direction:'horizontal',
      // 手动左右滑动的时候，带动tab页状态的变化
      onSlideChangeEnd:function(swiper){
        console.log(swiper)
        index = swiper.activeIndex;
        $('.tab a').eq(index).addClass('active').siblings().removeClass('active')
      }
    });
    // tab点击的时候，swiper-container的索引值进行切换
    $('.tab a').click(function(){
      var idx = $(this).index()
      $(this).addClass('active').siblings().removeClass('active')
      mySwiper.slideTo(idx)
    })

  </script>
</body>
</html>