<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" type="text/css" href="css/swiper.min.css">
  <style>
    /*
      平滑滚动 -webkit-overflow-scrolling:touch;  ios5+

    */
    a{text-decoration:none;}
    html,body{height:100%;font-size:calc(100vw/37.5);}
    body{margin:0;}div{padding:0;margin:0;}
    .app{padding-top:5rem;box-sizing:border-box;height:100%;}
    .tab{margin-top:-5rem;height:5rem;box-sizing:border-box;overflow-x:auto;white-space:nowrap;overflow-y:hidden;-webkit-overflow-scrolling:touch;position:relative;}
    .tab:before{content:"";display:inline-block;width:100%;height:1px;background:#ccc;position:absolute;left:0;bottom:0;}
    @media only screen and (-webkit-min-device-pixel-ratio: 2) {
      .tab:before{transform:scaleY(0.5);-webkit-transform:scaleY(0.5);}
    }
    .tab a{display:inline-block;height:5rem;line-height:5rem;margin:0 1rem;font-size:1.6rem;color:#333;position:relative;}
    .tab a:before{content:"";display:inline-block;width:80%;height:3px;background:transparent;position:absolute;left:10%;bottom:5px;z-index:3;border-radius:4px;}
    .tab a.active{color:#ff6666;}
    .tab a.active:before{background:#ff6666;}
    .swiper-container{height:100%;}
  </style>
</head>
<body>
  <div class="app">
    <div class="tab">
      <a href="#" class="active">党建品牌</a>
      <a href="#">组织活动</a>
      <a href="#">先锋模范</a>
      <a href="#">先锋模范1</a>
      <a href="#">先锋模范2</a>
      <a href="#">先锋模范3</a>
    </div>
    <div class="swiper-container">
      <div class="swiper-wrapper">
        <div class="swiper-slide">1</div>
        <div class="swiper-slide">2</div>
        <div class="swiper-slide">3</div>
        <div class="swiper-slide">4</div>
        <div class="swiper-slide">5</div>
        <div class="swiper-slide">6</div>
      </div>
    </div>
  </div>
  <script src="js/zepto.min.js"></script>
  <script src="js/swiper.min.js"></script>
  <script>
    var mySwiper = new Swiper('.swiper-container',{
      direction:'horizontal',
      // 手动左右滑动的时候，带动tab页状态的变化
      onSlideChangeEnd:function(swiper){
        console.log(swiper)
        index = swiper.activeIndex;
        $('.tab a').eq(index).addClass('active').siblings().removeClass('active')
      }
    });
    // tab点击的时候，swiper-container的索引值进行切换
    $('.tab a').click(function(){
      var idx = $(this).index()
      $(this).addClass('active').siblings().removeClass('active')
      mySwiper.slideTo(idx)
    })
  </script>
</body>
</html>